==============================================================================
PLANNER PRO DOCENTE 2026 - MAPA DO SISTEMA (ARQUITETURA MVC)
==============================================================================

RAIZ DO PROJETO (./)
│
├── index.html            # BOOT: Ponto de entrada. Gerencia injeção de scripts e Global Modal.
├── manifest.json         # PWA: Configurações de identidade visual e instalação nativa.
├── sw.js                 # PWA: Service Worker para cache offline (ignora Firebase).
├── _constructor.txt      # DOCUMENTAÇÃO: Guia técnico da arquitetura (este arquivo).
│
├── assets/               # RECURSOS ESTÁTICOS
│   ├── data/             # Banco de questões JSON e Manifests.
│   ├── BNCC/             # Base Curricular Nacional (Infantil, Fundamental, Médio).
│   └── icons/            # Ícones da aplicação.
│
├── css/
│   └── final.css         # ESTILOS: Tailwind JIT e animações personalizadas.
│
├── js/                   # LÓGICA CORE (ARQUITETURA MODULAR)
│   │
│   ├── controller.js     # HUB CENTRAL: Orquestrador de rotas e navegação.
│   ├── model.js          # DATA LAYER: Orquestrador do estado e persistência (JSDoc implemented).
│   ├── firebase-service.js # INFRA: Comunicação Firestore e Auth.
│   ├── ai-service.js     # INTELIGÊNCIA: Integração com Gemini (Failover Strategy: 2.5 -> 1.5).
│   │
│   ├── models/           # MODULARIZAÇÃO DO MODEL (Regras de Negócio)
│   │   ├── state.js      # Estado inicial e constantes globais.
│   │   ├── turmaModel.js # Métodos para Alunos, Notas e Frequência.
│   │   ├── provaModel.js # Métodos para Questões e Avaliações.
│   │   └── planejamentoModel.js # Métodos para Planos de Aula e BNCC (Busca Global).
│   │
│   ├── components/       # UI REUTILIZÁVEL
│   │   └── toast.js      # Notificações (Substituindo alerts nativos).
│   │
│   ├── controllers/      # ESPECIALISTAS (SUB-CONTROLLERS)
│   │   ├── authController.js
│   │   ├── uiController.js
│   │   ├── turmaController.js
│   │   └── planejamentoController.js
│   │
│   └── views/            # INTERFACE (REPRESENTAÇÃO VISUAL)
│       ├── dashboard.js       # Dashboard com Busca Global BNCC integrada.
│       ├── bncc.js            # Motor de busca (Busca rápida em todo o banco).
│       ├── provas.js          # Gerador de provas com Integração IA (Gemini).
│       ├── planejamento.js    # Períodos Letivos (Bimestre/Trimestre/Semestre).
│       ├── comunidade.js      # Feed global de questões.
│       └── settings.js        # Configurações e Backup.

==============================================================================
NOTAS TÉCNICAS DE IMPLEMENTAÇÃO:
==============================================================================
1. IA PEDAGÓGICA (Gemini):
   - Estratégia de Fallback: Tenta Gemini 3 -> 2.5 -> 1.5 caso haja erro de quota (429).
   - Prompt Engineering: Força retorno JSON puro e uso de LaTeX para fórmulas.
2. BUSCA GLOBAL BNCC:
   - Carregamento assíncrono (lazy load) dos 3 níveis da BNCC no init da View.
   - Normalização de dados para busca cross-level (Infantil ao Médio).
3. PERSISTÊNCIA & SYNC:
   - 'saveLocal()' obrigatório para resiliência offline.
   - Sincronização Cloud via Firestore protegida por regras de UID.
4. QUALIDADE DE CÓDIGO:
   - Uso de JSDoc no model.js para suporte total a IntelliSense.
   - Substituição de Alerts por Toasts para fluidez de UX.
==============================================================================